<div ng-init="init()">
	<div class="col-xs-7">
    <h1>{{project.name}}</h1>
    <table class="table table-striped table-condensed table-hover">
	    <thead>
	      <tr>
	        <th class="col-md-2">Name</th>
	        <th class="col-md-1">Time</th>
	        <th class="col-md-3">Text</th>
	        <th class="col-md-2">Edit</th>
	      </tr>
	    </thead>
	    <tbody>
        <tr data-ng-repeat="report in reports">
          <td>{{report.name}}</td>
          <td>{{report.time}}</td>
          <td>{{report.text}}</td>
          <td>
            <form editable-form name="rowform" onbeforesave="saveReport($data, report.id)" ng-show="rowform.$visible" shown="inserted == report" class="form-buttons form-inline">
			        <button type="submit" class="btn btn-success">
			          <span class="glyphicon glyphicon-ok"></span> 
			        </button>
		          <button type="button" ng-click="rowform.$cancel()" class="btn btn-default">
		            <span class="glyphicon glyphicon-share-alt"></span> 
		          </button>
            </form>
            <div class="buttons" ng-show="!rowform.$visible">
              <button class="btn btn-primary" ng-click="rowform.$show()">
            		<span class="glyphicon glyphicon-pencil"></span>
          		</button>
              <button class="btn btn-danger" ng-click="removeReport(report, $index)">
            		<span class="glyphicon glyphicon-remove"></span> 
          		</button>
            </div>  
          </td>
        </tr>
    </table>
    <div class="buttons">
	    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#importModal">
	  		<span class="glyphicon glyphicon-import"></span> 
			</button>
			<button class="btn btn-success" ng-click="addProject()">
	    	<span class="glyphicon glyphicon-plus"></span> 
	  	</button>
  	</div>
	</div>
	<div bd-chart="set.time" x="set.x" class="content"></div>
	<div class="modal fade" id="importModal">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h4 class="modal-title">Import Calendar Events</h4>
	      </div>
	      <div class="modal-body">
	        <button type="button" class="btn btn-default" ng-click = "authorize()" ng-hide="calendarsFetched">Authorize</button>
					<button type="button" class="btn btn-default" ng-click = "fetchCalendars()" ng-hide="calendarsFetched">Fetch Calendars</button>

					<form name="selectCalendarForm" ng-submit="fetchCalendarEvents()" ng-show="calendarsFetched">
					  <div class="form-group">
					    <label for="title">Title</label>
					    <select class="form-control" ng-model="calendarSelected" ng-options="c.id as c.title for c in calendars">
					    	<option value="">-- choose calendar --</option>
							</select>
					  </div>
					  <div class="form-group">
					    <p class="input-group">
	              <input type="text" class="form-control" uib-datepicker-popup="dd-MMMM-yyyy" ng-model="startDate" is-open="datePickerOpen" datepicker-options="dateOptions"></input>
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default" ng-click="openDatePicker($event)">
	                	<i class="glyphicon glyphicon-calendar"></i>
	                </button>
	              </span>
		          </p>
		        </div>
		        <div class="form-group">
	    				<label for="title">Number of events</label>
	    				<input type="text" class="form-control" ng-model="numberOfEvents" placeholder="Number of events">
	  				</div>
					  <div class="form-group">
					    <button type="submit" class="btn btn-default">Fetch Calendar Events</button>
					  </div>
					</form>
					<table class="table" ng-show="calEventsFetched">
					  <thead>
				      <th>Add</th>
				      <th>Title</th>
				      <th>Start</th>
				      <th>Duration [hrs]</th>
					  </thead>
				    <tbody>
					    <tr ng-repeat="calendarEvent in calendarEvents">
					      <td><button class="btn btn-success btn-xs" ng-hide="calendarEvent.selected" ng-click="addEvent(calendarEvent)">
    							<span class="glyphicon glyphicon-plus"></span> 
  							</button></td>
					      <td>{{calendarEvent.title}}</td>
					      <td>{{calendarEvent.start}}</td>
					      <td>{{calendarEvent.duration}}</td>
					    </tr>
						</tbody>
					</table>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>
	  </div>
	</div>
</div>

